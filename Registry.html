<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Class: Registry</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Class: Registry</h1>

    




<section>

<header>
    
        <h2>Registry</h2>
        
            <div class="class-description"><p>Plugins are loaded and maintained in memory by the registry. The Registry
class can find and load plugins from the filesystem, resolve plugin
dependencies, order plugins such that their dependencies are all met,
and initialize plugins. This process is called bootstrapping and it is the
beginning of the plugin lifecycle.</p>
<p>A single registry instance is created by the Host constructor, which is then
used in a variety of ways.</p>
<p>Instantiating:</p>
<pre class="prettyprint source lang-js"><code>let registry = new Registry({ ... })</code></pre><p>Storing and querying plugins:</p>
<pre class="prettyprint source lang-js"><code>registry.set(&lt;name>, new Plugin({ ... }))
registry.get(&lt;name>)
registry.del(&lt;name>)

registry.filter({ type: '&lt;type>' })
registry.filter(plugin => &lt;boolean-expr>)</code></pre><p>Bootstrapping:</p>
<pre class="prettyprint source lang-js"><code>registry
  .glob()
  .require()
  .resolve()
  .prioritize()
  .initialize()</code></pre><p>Plugin registration:</p>
<pre class="prettyprint source lang-js"><code>module.exports = function (&lt;registry>) {
  &lt;registry>.plugin(&lt;name>, &lt;metadata>).initializer(&lt;callback>)
}</code></pre><p>This module requires <a href="Plugin.html">Plugin</a> and <a href="PluginCollection.html">PluginCollection</a>.</p></div>
        
    
</header>

<article>
    <div class="container-overview">
    
        

    
    <h2>Constructor</h2>
    

    <h4 class="name" id="Registry"><span class="type-signature"></span>new Registry<span class="signature">(options)</span><span class="type-signature"></span></h4>

    



<div class="description">
    <p>Initialize a Registry instance.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>options</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last"><p>Options object</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="Registry.js.html">Registry.js</a>, <a href="Registry.js.html#line72">line 72</a>
    </li></ul></dd>
    

    

    

    
</dl>
















    
    </div>

    

    

    

     

    

    

    
        <h3 class="subsection-title">Methods</h3>

        
            

    

    <h4 class="name" id="del"><span class="type-signature"></span>del<span class="signature">(name)</span><span class="type-signature"> &rarr; {<a href="Plugin.html">Plugin</a>}</span></h4>

    



<div class="description">
    <p>Remove a plugin from the registry.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>name</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>Name of the plugin</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="Registry.js.html">Registry.js</a>, <a href="Registry.js.html#line124">line 124</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="Plugin.html">Plugin</a></span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="filter"><span class="type-signature"></span>filter<span class="signature">(predicate)</span><span class="type-signature"> &rarr; {<a href="PluginCollection.html">PluginCollection</a>}</span></h4>

    



<div class="description">
    <p>Query the registry for plugins matching a predicate</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>predicate</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>
|

<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last"><p>Description or function for matching plugins</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="Registry.js.html">Registry.js</a>, <a href="Registry.js.html#line141">line 141</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="PluginCollection.html">PluginCollection</a></span>


    </dd>
</dl>

    


    <h5>Examples</h5>
    
        <p class="code-caption">Object predicate</p>
    
    <pre class="prettyprint"><code>registry.filter({ enabled: true })</code></pre>

        <p class="code-caption">Function predicate</p>
    
    <pre class="prettyprint"><code>registry.filter(plugin => !!plugin.name.match(regexp))</code></pre>



        
            

    

    <h4 class="name" id="get"><span class="type-signature"></span>get<span class="signature">(name)</span><span class="type-signature"> &rarr; {<a href="Plugin.html">Plugin</a>}</span></h4>

    



<div class="description">
    <p>Retrieve a plugin from the registry.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>name</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>name of the plugin</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="Registry.js.html">Registry.js</a>, <a href="Registry.js.html#line95">line 95</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="Plugin.html">Plugin</a></span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="glob"><span class="type-signature"></span>glob<span class="signature">()</span><span class="type-signature"></span></h4>

    



<div class="description">
    <p>Search the configured directories for plugin index files.</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="Registry.js.html">Registry.js</a>, <a href="Registry.js.html#line150">line 150</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
            

    

    <h4 class="name" id="initialize"><span class="type-signature"></span>initialize<span class="signature">()</span><span class="type-signature"></span></h4>

    



<div class="description">
    <p>Iterate over prioritized plugins and invoke initializer methods.</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="Registry.js.html">Registry.js</a>, <a href="Registry.js.html#line278">line 278</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
            

    

    <h4 class="name" id="plugin"><span class="type-signature"></span>plugin<span class="signature">(name, metadata)</span><span class="type-signature"> &rarr; {<a href="Plugin.html">Plugin</a>}</span></h4>

    



<div class="description">
    <p>Register or retrieve a plugin from the injector with a name and metadata object.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>name</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>Plugin name</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>metadata</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last"><p>Plugin metadata</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="Registry.js.html">Registry.js</a>, <a href="Registry.js.html#line294">line 294</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="Plugin.html">Plugin</a></span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="prioritize"><span class="type-signature"></span>prioritize<span class="signature">()</span><span class="type-signature"></span></h4>

    



<div class="description">
    <p>Given a list of plugins with dependencies, sort the list such that
all dependencies can be met by iterating over the list.</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="Registry.js.html">Registry.js</a>, <a href="Registry.js.html#line251">line 251</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
            

    

    <h4 class="name" id="require"><span class="type-signature"></span>require<span class="signature">()</span><span class="type-signature"></span></h4>

    



<div class="description">
    <p>Load plugins to the registry without initializing them.</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="Registry.js.html">Registry.js</a>, <a href="Registry.js.html#line165">line 165</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
            

    

    <h4 class="name" id="resolve"><span class="type-signature"></span>resolve<span class="signature">()</span><span class="type-signature"></span></h4>

    



<div class="description">
    <p>Resolves and validates dependencies and dependents of
all plugins.</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="Registry.js.html">Registry.js</a>, <a href="Registry.js.html#line180">line 180</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
            

    

    <h4 class="name" id="satisfy"><span class="type-signature"></span>satisfy<span class="signature">()</span><span class="type-signature"></span></h4>

    



<div class="description">
    <p>Given a list of plugins without dependencies and a list of
plugins with dependencies, return a list of plugins such that
no plugins appear before their dependencies.</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="Registry.js.html">Registry.js</a>, <a href="Registry.js.html#line222">line 222</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
            

    

    <h4 class="name" id="set"><span class="type-signature"></span>set<span class="signature">(name, plugin)</span><span class="type-signature"> &rarr; {<a href="Plugin.html">Plugin</a>}</span></h4>

    



<div class="description">
    <p>Set a plugin on the registry.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>name</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>Name of the plugin</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>plugin</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="Plugin.html">Plugin</a></span>


            
            </td>

            

            

            <td class="description last"><p>Name of the plugin</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="Registry.js.html">Registry.js</a>, <a href="Registry.js.html#line107">line 107</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="Plugin.html">Plugin</a></span>


    </dd>
</dl>

    



        
    

    

    
</article>

</section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="Collection.html">Collection</a></li><li><a href="Dependency.html">Dependency</a></li><li><a href="DependencyCollection.html">DependencyCollection</a></li><li><a href="Host.html">Host</a></li><li><a href="Injector.html">Injector</a></li><li><a href="Plugin.html">Plugin</a></li><li><a href="PluginCollection.html">PluginCollection</a></li><li><a href="Registry.html">Registry</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.4.0</a> on Thu Feb 11 2016 21:59:26 GMT-0800 (PST)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>