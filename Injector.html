<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Class: Injector</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Class: Injector</h1>

    




<section>

<header>
    
        <h2>Injector</h2>
        
            <div class="class-description"><p>Dependencies are registered and maintained in memory by the Injector.</p>
<p>Registering a dependency on the Injector validates it and determines which other
dependencies it requires. This does not invoke the <code>fn</code> property, if one is
provided.</p>
<pre class="prettyprint source lang-js"><code>injector.register({
  name: 'server',
  type: 'factory',
  plugin: '&lt;plugin.name>',
  fn: function (express, logger) {
    let server = express()
    server.use(logger)
    return server
  }
})</code></pre><p>Getting a dependency from the Injector invokes the dependency's <code>fn</code> property as
a function and caches the return value on the <code>value</code> property for future calls
to <code>get</code>. This recursively satisfies the requirements of <code>fn</code>.</p>
<pre class="prettyprint source lang-js"><code>injector.get('server')
=> server
// this caches the return value of `fn` as `value`
=> Dependency {
     name: 'server',
     type: 'factory',
     plugin: '&lt;plugin.name>',
     fn: function (express, logger) { ... },
     value: server
   }</code></pre><p>Invoking a dependency calls it's <code>fn</code> property as a function, without caching or
returning a result.</p>
<pre class="prettyprint source lang-js"><code>injector.register({
  name: 'server:starter',
  type: 'callback',
  plugin: 'server',
  fn: function (server) {
    server.listen()
  }
})

injector.invoke('server:starter')</code></pre><p>Filtering a dependency returns a DependencyCollection instance filtered by a
predicate.</p>
<pre class="prettyprint source lang-js"><code>injector.filter({ type: 'factory', plugin: 'MyPlugin' })
=> DependencyCollection [
     Dependency { type: 'factory', plugin: 'MyPlugin', ... },
     Dependency { type: 'factory', plugin: 'MyPlugin', ... },
     Dependency { type: 'factory', plugin: 'MyPlugin', ... },
     // ...
   ]</code></pre></div>
        
    
</header>

<article>
    <div class="container-overview">
    
        

    
    <h2>Constructor</h2>
    

    <h4 class="name" id="Injector"><span class="type-signature"></span>new Injector<span class="signature">()</span><span class="type-signature"></span></h4>

    



<div class="description">
    <p>Initialize the injector with a reference to itself as a dependency.</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="Injector.js.html">Injector.js</a>, <a href="Injector.js.html#line87">line 87</a>
    </li></ul></dd>
    

    

    

    
</dl>
















    
    </div>

    

    

    

     

    

    

    
        <h3 class="subsection-title">Methods</h3>

        
            

    

    <h4 class="name" id="filter"><span class="type-signature"></span>filter<span class="signature">(predicate)</span><span class="type-signature"> &rarr; {<a href="DependencyCollection.html">DependencyCollection</a>}</span></h4>

    



<div class="description">
    <p>Query the injector for dependencies matching a predicate</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>predicate</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>
|

<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last"><p>Description or function for matching dependencies</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="Injector.js.html">Injector.js</a>, <a href="Injector.js.html#line200">line 200</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="DependencyCollection.html">DependencyCollection</a></span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="get"><span class="type-signature"></span>get<span class="signature">(name)</span><span class="type-signature"> &rarr; {*}</span></h4>

    



<div class="description">
    <p>Get a dependency from the injector by invoking it's function or value property.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>name</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>Dependency name</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="Injector.js.html">Injector.js</a>, <a href="Injector.js.html#line134">line 134</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">*</span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="invoke"><span class="type-signature"></span>invoke<span class="signature">(name)</span><span class="type-signature"></span></h4>

    



<div class="description">
    <p>Lifecycle callbacks which use dependencies on the injector, but return no values
can be registered on the injector for event handling. This method invokes such
callbacks by name, providing any required dependencies as arguments. It fails
silently if no callback is found.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>name</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>Dependency name</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="Injector.js.html">Injector.js</a>, <a href="Injector.js.html#line177">line 177</a>
    </li></ul></dd>
    

    

    

    
    <dt class="tag-todo">To Do:</dt>
    <dd class="tag-todo">
        <ul>
            <li>consider consolidating repeated code in invoke and get into a single 'internal'
#todo function and wrap it for get and invoke functionality</li>
        </ul>
    </dd>
    
</dl>
















        
            

    

    <h4 class="name" id="register"><span class="type-signature"></span>register<span class="signature">(descriptor)</span><span class="type-signature"></span></h4>

    



<div class="description">
    <p>Register a Dependency instance on the injector without invoking its
factory function.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>descriptor</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last"><p>Dependency properties</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="Injector.js.html">Injector.js</a>, <a href="Injector.js.html#line111">line 111</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
    

    

    
</article>

</section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="Collection.html">Collection</a></li><li><a href="Dependency.html">Dependency</a></li><li><a href="DependencyCollection.html">DependencyCollection</a></li><li><a href="Host.html">Host</a></li><li><a href="Injector.html">Injector</a></li><li><a href="Plugin.html">Plugin</a></li><li><a href="PluginCollection.html">PluginCollection</a></li><li><a href="Registry.html">Registry</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.4.0</a> on Tue Feb 09 2016 11:07:55 GMT-0800 (PST)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>